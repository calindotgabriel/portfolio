---
import "../styles/global.css";

import { getCollection } from "astro:content";

const allPosts = await getCollection("blog");
const latestPosts = allPosts
  .sort((a, b) => b.data.publishDate.getTime() - a.data.publishDate.getTime())
  .slice(0, 3); // Ultimele 3 articole
---

<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RBDYFTF35Q"
    ></script>
    <script>
      // @ts-ignore
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        // @ts-ignore
        dataLayer.push(arguments);
      }
      // @ts-ignore
      gtag("js", new Date());
      // @ts-ignore
      gtag("config", "G-RBDYFTF35Q");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calin Gabriel - Senior Full Stack Developer</title>
    <meta
      name="description"
      content="Senior Full Stack Developer specializat √Æn React, Node.js, AI. Experien»õƒÉ 5+ ani, clien»õi europeni premium."
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- HERO + CONTACT MERGED -->
    <section class="hero">
      <div class="hero-content">
        <h1>Calin Gabriel</h1>
        <p class="hero-description">
          Senior Full Stack Developer crafting scalable web experiences
        </p>
        <p class="hero-subtitle">6+ years ‚Ä¢ React/Node.js ‚Ä¢ AWS</p>

        <!-- Contact Direct √Æn Hero -->
        <div class="hero-cta-container">
          <a
            href="mailto:calindotgabriel18@gmail.com?subject=Project Inquiry"
            class="cta-button"
          >
            <span style="font-size: 18px;">‚úâÔ∏è</span>
            Start a Project
          </a>
          <a href="tel:+40759407066" class="btn-secondary cta-button">
            <span style="font-size: 18px;">üì±</span>
            +40 759 407 066
          </a>
        </div>

        <!-- Quick Info Cards - 3 columns on desktop -->
        <div class="hero-info-grid">
          <div class="hero-info-card">
            <span class="hero-info-icon">‚è∞</span>
            <div class="hero-info-title">Available Now</div>
            <div class="hero-info-subtitle">EU Time Zones</div>
          </div>
          <div class="hero-info-card">
            <span class="hero-info-icon">üí∞</span>
            <div class="hero-info-title">Get Quote</div>
            <div class="hero-info-subtitle">Long-term contracts</div>
          </div>
          <div class="hero-info-card">
            <span class="hero-info-icon">üåç</span>
            <div class="hero-info-title">Remote First</div>
            <div class="hero-info-subtitle">European clients</div>
          </div>
        </div>

        <a href="#projects" class="hero-scroll-link btn-secondary cta-button">
          View Recent Work
        </a>
      </div>
    </section>
    <!-- CV / EXPERIENCE SECTION -->
    <section id="cv" class="cv-section" style="margin: 48px 0;">
      <div
        class="cv-container"
        style="max-width: 700px; margin: 0 auto; text-align: center;"
      >
        <h2 style="margin-bottom: 12px;">CV & Experience</h2>
        <p style="margin-bottom: 20px;">
          Download my full PDF CV for a detailed overview of my experience,
          skills, and project history.
        </p>
        <a
          href="/cv.pdf"
          target="_blank"
          rel="noopener"
          class="cta-button"
          style="font-size: 18px; padding: 12px 32px; display: inline-block;"
        >
          <span style="font-size: 20px; vertical-align: middle;">üìÑ</span>
          &nbsp;View PDF CV
        </a>
      </div>
    </section>

    <!-- PROJECTS COMPACT -->
    <section id="projects" class="projects-section">
      <div class="projects-container">
        <div class="projects-header">
          <h2>Recent Projects</h2>
          <p>Real solutions for major European companies</p>
        </div>

        <div class="projects-grid">
          <!-- Project 1: ImmoScout24 -->
          <a
            href="/projects/immobile-search"
            target="_blank"
            rel="noopener"
            style="text-decoration: none; color: inherit;"
          >
            <div class="project-card project-card-large">
              <div>
                <div class="project-header">
                  <h3 class="project-title">ImmoScout24 Search Engine</h3>
                  <span class="project-badge badge-live">LIVE</span>
                </div>
                <p class="project-description">
                  Built Austria's leading real estate search platform with
                  geolocation filtering. Multi-tenant authentication supporting
                  agents, buyers, and landlords.
                </p>
                <div class="project-tech-container">
                  <span class="tech-pill">React</span>
                  <span class="tech-pill">Node.js</span>
                  <span class="tech-pill">AWS</span>
                  <span class="tech-pill">PostgreSQL</span>
                </div>
              </div>
              <div class="project-results">
                <div class="results-header">
                  <span style="font-size: 16px;">üìà</span>
                  <span class="results-title">Key Results</span>
                </div>
                <ul class="results-list">
                  <li>‚Ä¢ 5,000+ daily searches</li>
                  <li>‚Ä¢ 99.5% uptime</li>
                  <li>‚Ä¢ 20% higher user engagement</li>
                </ul>
              </div>
            </div>
          </a>

          <!-- Project 2: RWE Energy -->
          <a
            href="/projects/rwe-energy"
            target="_blank"
            rel="noopener"
            style="text-decoration: none; color: inherit;"
          >
            <div class="project-card project-card-large project-card-reverse">
              <div class="project-results">
                <div class="results-header">
                  <span style="font-size: 16px;">‚ö°</span>
                  <span class="results-title">Performance</span>
                </div>
                <ul class="results-list">
                  <li>‚Ä¢ 65% faster APIs</li>
                  <li>‚Ä¢ 45min ‚Üí 12min exports</li>
                  <li>‚Ä¢ 15,000+ daily queries</li>
                </ul>
              </div>
              <div>
                <div class="project-header">
                  <h3 class="project-title">RWE Energy Platform</h3>
                  <span class="prossect-badge badge-enterprise">ENTERPRISE</span
                  >
                </div>
                <p class="project-description">
                  Migrated legacy Java monolith to Node.js microservices for
                  Germany's largest energy company. Built high-performance data
                  filtering with parallel processing.
                </p>
                <div class="project-tech-container">
                  <span class="tech-pill">NestJS</span>
                  <span class="tech-pill">MongoDB</span>
                  <span class="tech-pill">Docker</span>
                  <span class="tech-pill">Microservices</span>
                </div>
              </div>
            </div>
          </a>

          <!-- Project 3: Endava -->
          <div class="project-card project-card-compact">
            <div class="project-compact-content">
              <div class="project-compact-info">
                <h3 class="project-compact-title">
                  Academic Document Processing (Endava)
                </h3>
                <p class="project-compact-description">
                  Built scalable document conversion system processing 2,000+
                  scientific papers daily with React frontend and AWS Lambda
                  backend.
                </p>
              </div>
              <div class="project-compact-tech">
                <span class="tech-pill">React</span>
                <span class="tech-pill">AWS Lambda</span>
                <span class="tech-pill">S3</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- BLOG SECTION -->
    <section id="blog" class="blog-preview-section" style="margin: 48px 0;">
      <div
        class="container"
        style="max-width: 1200px; margin: 0 auto; padding: 0 2rem;"
      >
        <h2 style="text-align: center; margin-bottom: 24px;">
          Latest Technical Insights
        </h2>
        <p style="text-align: center; margin-bottom: 32px; color: #718096;">
          Deep dives into modern web development, microservices, and system
          architecture
        </p>

        <div
          class="blog-preview-grid"
          style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;"
        >
          <!-- PREVIEW CARDS - sau fetch din content collections -->
          <article
            class="blog-card"
            style="border: 1px solid #e2e8f0; border-radius: 8px; padding: 1.5rem;"
          >
            <h3 style="margin-bottom: 0.5rem;">
              <a
                href="/blog/nestjs-microservices-architecture"
                style="text-decoration: none; color: #2d3748;"
              >
                Building Scalable Microservices with NestJS
              </a>
            </h3>
            <p style="color: #718096; margin-bottom: 1rem;">
              How we migrated a legacy monolith to NestJS microservices,
              reducing response times by 70%
            </p>
            <div style="display: flex; gap: 0.5rem;">
              <span
                class="tag"
                style="background: #e2e8f0; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem;"
                >NestJS</span
              >
              <span
                class="tag"
                style="background: #e2e8f0; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem;"
                >MongoDB</span
              >
            </div>
          </article>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
          <a
            href="/blog"
            class="cta-button"
            style="display: inline-block; padding: 12px 24px; background: #3182ce; color: white; text-decoration: none; border-radius: 6px;"
          >
            View All Articles ‚Üí
          </a>
        </div>
      </div>
    </section>

    <div class="blog-preview-grid">
      {
        latestPosts.map((post) => (
          <article class="blog-card">
            <h3>
              <a href={`/blog/${post.slug}`}>{post.data.title}</a>
            </h3>
            <p>{post.data.description}</p>
            <div class="tags">
              {post.data.tags.map((tag) => (
                <span class="tag">{tag}</span>
              ))}
            </div>
          </article>
        ))
      }
    </div>

    <!-- FOOTER CONTACT -->
    <footer class="footer-section">
      <div class="footer-container">
        <h3 class="footer-title">Ready to start your project?</h3>
        <p class="footer-subtitle">Available for long-term contracts</p>

        <div class="footer-cta-container">
          <a
            href="mailto:calindotgabriel18@gmail.com?subject=Project Inquiry&body=Hi Calin, I'm interested in discussing a project..."
            class="cta-button"
          >
            <span style="font-size: 18px;">‚úâÔ∏è</span>
            contact@calingabriel.com
          </a>
          <a href="tel:+40759407066" class="btn-secondary cta-button">
            <span style="font-size: 18px;">üì±</span>
            +40 759 407 066
          </a>
        </div>

        <div class="footer-social-container">
          <a
            href="https://www.linkedin.com/in/calingabriel-ts-dev/"
            target="_blank"
            rel="noopener"
            class="footer-social-link"
          >
            <span style="font-size: 16px;">üíº</span>
            LinkedIn
          </a>
          <a
            href="https://github.com/calindotgabriel"
            target="_blank"
            rel="noopener"
            class="footer-social-link"
          >
            <span style="font-size: 16px;">üíª</span>
            GitHub
          </a>
          <a href="#" class="footer-social-link">
            <span style="font-size: 16px;">üîó</span>
            Portfolio
          </a>
        </div>
      </div>
    </footer>
  </body>
</html>
