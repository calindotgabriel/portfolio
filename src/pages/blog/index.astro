---
import Layout from "../../layouts/Layout.astro";
import TechIcon from "../../components/TechIcon.astro";

// Direct .astro blog posts
const astroPosts = [
  {
    slug: "nestjs-microservices-architecture",
    data: {
      title: "Building Scalable Microservices with NestJS and MongoDB",
      description:
        "How we migrated a legacy monolith to NestJS microservices for RWE Energy - handling 5k+ daily queries with users waiting too long for large exports",
      publishDate: new Date("2024-08-23"),
      tags: ["NestJS", "Microservices", "MongoDB", "Azure"],
      author: "Călin Gabriel",
    },
  },
  {
    slug: "immobile-search-platform",
    data: {
      title:
        "Building a Scalable Real Estate Search Platform with React and Hapi Microservices",
      description:
        "How we built a multi-tenant property search engine with geolocation filtering for a real estate startup - handling complex user roles and map-based searches",
      publishDate: new Date("2024-07-15"),
      tags: ["React", "Hapi", "AWS", "MongoDB", "Microservices"],
      author: "Călin Gabriel",
    },
  },
];

// Sort posts by date (newest first)
const sortedPosts = astroPosts.sort(
  (a, b) => b.data.publishDate.getTime() - a.data.publishDate.getTime()
);
---

<Layout title="Technical Blog - Călin Gabriel">
  <main>
    <!-- BLOG HERO WITH GENERATIVE DESIGN -->
    <section class="blog-hero-generative">
      <!-- Animated background elements -->
      <div class="blog-hero-bg-elements">
        <div class="floating-code-symbol code-symbol-1">
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="rgba(255,255,255,0.1)"
          >
            <path
              d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0L19.2 12l-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"
            ></path>
          </svg>
        </div>
        <div class="floating-code-symbol code-symbol-2">
          <svg
            width="28"
            height="28"
            viewBox="0 0 24 24"
            fill="rgba(255,255,255,0.08)"
          >
            <path
              d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"
            ></path>
          </svg>
        </div>
        <div class="floating-code-symbol code-symbol-3">
          <svg
            width="30"
            height="30"
            viewBox="0 0 24 24"
            fill="rgba(255,255,255,0.06)"
          >
            <path
              d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
            ></path>
          </svg>
        </div>

        <div class="blog-hero-orb hero-orb-1"></div>
        <div class="blog-hero-orb hero-orb-2"></div>
        <div class="blog-hero-orb hero-orb-3"></div>
      </div>

      <div class="blog-hero-content">
        <div class="blog-hero-badge">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"
            ></path>
          </svg>
          Technical Deep Dives
        </div>

        <h1 class="blog-hero-title">
          <span class="gradient-text-blog">Technical Insights</span>
        </h1>

        <p class="blog-hero-description">
          Real-world solutions from <span class="highlight-blog"
            >enterprise-scale projects</span
          >
          with European tech leaders
        </p>

        <div class="blog-hero-stats">
          <div class="blog-stat">
            <div class="stat-number">{sortedPosts.length}</div>
            <div class="stat-label">Deep Dives</div>
          </div>
          <div class="stat-divider"></div>
          <div class="blog-stat">
            <div class="stat-number">50K+</div>
            <div class="stat-label">Properties Indexed</div>
          </div>
          <div class="stat-divider"></div>
          <div class="blog-stat">
            <div class="stat-number">15K+</div>
            <div class="stat-label">Daily Queries</div>
          </div>
        </div>
      </div>
    </section>

    <!-- BLOG POSTS WITH ENHANCED DESIGN -->
    <section class="blog-posts-enhanced">
      <div class="blog-posts-bg">
        <div class="blog-post-orb post-orb-1"></div>
        <div class="blog-post-orb post-orb-2"></div>
      </div>

      <div class="blog-container">
        <div class="blog-grid-enhanced">
          {
            sortedPosts.map((post, index) => (
              <a
                href={`/blog/${post.slug}`}
                style="text-decoration: none; color: inherit;"
              >
                <article
                  class="blog-card-enhanced"
                  style={`animation-delay: ${index * 0.2}s`}
                >
                  <div class="blog-card-header">
                    <div class="blog-card-icon">
                      <svg
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                      >
                        {index === 0 && (
                          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
                        )}
                        {index === 1 && (
                          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                        )}
                      </svg>
                    </div>
                    <div class="blog-card-meta">
                      <span class="blog-date">
                        {post.data.publishDate.toLocaleDateString("en-US", {
                          month: "long",
                          day: "numeric",
                          year: "numeric",
                        })}
                      </span>
                      <div class="read-time">
                        <svg
                          width="14"
                          height="14"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                        >
                          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                        </svg>
                        {Math.ceil(post.data.description.length / 100)} min read
                      </div>
                    </div>
                  </div>

                  <h2 class="blog-card-title">{post.data.title}</h2>

                  <p class="blog-card-description">{post.data.description}</p>

                  <div class="blog-card-tags">
                    {post.data.tags.slice(0, 3).map((tag) => (
                      <span class="blog-tag">
                        <TechIcon technology={tag} size={12} />
                        {tag}
                      </span>
                    ))}
                  </div>

                  <div class="blog-card-cta">
                    <span class="read-more-text">Read Full Analysis</span>
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                      class="arrow-icon"
                    >
                      <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" />
                    </svg>
                  </div>
                </article>
              </a>
            ))
          }
        </div>

        <div class="blog-cta-section">
          <div class="blog-cta-card">
            <h3>Ready to build something similar?</h3>
            <p>
              I'm available for enterprise-scale projects and technical
              consulting
            </p>
            <a
              href="mailto:calindotgabriel18@gmail.com?subject=Technical Project Inquiry"
              class="blog-contact-btn"
            >
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                ></path>
              </svg>
              Start a Project
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"
                ></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <style>
      /* BLOG HERO GENERATIVE STYLES */
      .blog-hero-generative {
        min-height: 70vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 25%,
          #6366f1 50%,
          #ec4899 75%,
          #f093fb 100%
        );
        background-size: 400% 400%;
        animation: gradientShift 12s ease infinite;
        color: white;
      }

      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .blog-hero-bg-elements {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .floating-code-symbol {
        position: absolute;
        animation-duration: 20s;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
      }

      .code-symbol-1 {
        top: 20%;
        left: 15%;
        animation: float-code1 18s ease-in-out infinite;
      }
      .code-symbol-2 {
        top: 30%;
        right: 20%;
        animation: float-code2 22s ease-in-out infinite;
      }
      .code-symbol-3 {
        bottom: 25%;
        left: 25%;
        animation: float-code3 16s ease-in-out infinite;
      }

      @keyframes float-code1 {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-15px) rotate(180deg);
        }
      }

      @keyframes float-code2 {
        0%,
        100% {
          transform: translateX(0px) rotate(0deg);
        }
        50% {
          transform: translateX(-10px) rotate(-180deg);
        }
      }

      @keyframes float-code3 {
        0%,
        100% {
          transform: translateY(0px) scale(1);
        }
        50% {
          transform: translateY(-12px) scale(1.1);
        }
      }

      .blog-hero-orb {
        position: absolute;
        border-radius: 50%;
        filter: blur(40px);
        animation: pulse-hero-orb 10s ease-in-out infinite;
      }

      .hero-orb-1 {
        width: 120px;
        height: 120px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.3) 0%,
          transparent 70%
        );
        top: 15%;
        right: 10%;
      }

      .hero-orb-2 {
        width: 80px;
        height: 80px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.2) 0%,
          transparent 70%
        );
        bottom: 20%;
        left: 20%;
        animation-delay: 3s;
      }

      .hero-orb-3 {
        width: 100px;
        height: 100px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.25) 0%,
          transparent 70%
        );
        top: 50%;
        left: 10%;
        animation-delay: 6s;
      }

      @keyframes pulse-hero-orb {
        0%,
        100% {
          opacity: 0.4;
          transform: scale(1);
        }
        50% {
          opacity: 0.7;
          transform: scale(1.2);
        }
      }

      .blog-hero-content {
        position: relative;
        z-index: 10;
        text-align: center;
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
      }

      .blog-hero-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 50px;
        padding: 0.75rem 1.5rem;
        font-size: 0.9rem;
        font-weight: 500;
        margin-bottom: 2rem;
        animation: fadeInUp 1s ease 0.2s both;
      }

      .blog-hero-title {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        line-height: 1.1;
        animation: fadeInUp 1s ease 0.4s both;
      }

      .gradient-text-blog {
        background: linear-gradient(
          135deg,
          #ffffff 0%,
          #f8fafc 50%,
          #e2e8f0 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .blog-hero-description {
        font-size: 1.3rem;
        line-height: 1.6;
        margin-bottom: 2.5rem;
        color: rgba(255, 255, 255, 0.9);
        animation: fadeInUp 1s ease 0.6s both;
      }

      .highlight-blog {
        color: #fbbf24;
        font-weight: 600;
      }

      .blog-hero-stats {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 2rem;
        animation: fadeInUp 1s ease 0.8s both;
      }

      .blog-stat {
        text-align: center;
      }

      .blog-stat .stat-number {
        font-size: 2rem;
        font-weight: 800;
        color: #fbbf24;
        line-height: 1;
      }

      .blog-stat .stat-label {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.8);
        margin-top: 0.5rem;
      }

      /* BLOG POSTS ENHANCED STYLES */
      .blog-posts-enhanced {
        position: relative;
        padding: 80px 0;
        background: linear-gradient(
          135deg,
          #fafbff 0%,
          #f0f4ff 50%,
          #f8fafc 100%
        );
        overflow: hidden;
      }

      .blog-posts-bg {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .blog-post-orb {
        position: absolute;
        border-radius: 50%;
        filter: blur(50px);
        animation: pulse-post-orb 15s ease-in-out infinite;
      }

      .post-orb-1 {
        width: 120px;
        height: 120px;
        background: radial-gradient(
          circle,
          rgba(99, 102, 241, 0.08) 0%,
          transparent 70%
        );
        top: 20%;
        right: 10%;
      }

      .post-orb-2 {
        width: 100px;
        height: 100px;
        background: radial-gradient(
          circle,
          rgba(236, 72, 153, 0.06) 0%,
          transparent 70%
        );
        bottom: 30%;
        left: 15%;
        animation-delay: 5s;
      }

      @keyframes pulse-post-orb {
        0%,
        100% {
          opacity: 0.3;
          transform: scale(1);
        }
        50% {
          opacity: 0.6;
          transform: scale(1.1);
        }
      }

      .blog-container {
        position: relative;
        z-index: 2;
        max-width: 1000px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .blog-grid-enhanced {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
        gap: 3rem;
        margin-bottom: 4rem;
      }

      .blog-card-enhanced {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 24px;
        padding: 2.5rem;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        animation: fadeInUp 0.6s ease forwards;
        opacity: 0;
      }

      .blog-card-enhanced:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.12);
        background: rgba(255, 255, 255, 0.95);
      }

      .blog-card-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .blog-card-icon {
        width: 48px;
        height: 48px;
        background: linear-gradient(135deg, #6366f1 0%, #ec4899 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      }

      .blog-card-meta {
        flex: 1;
      }

      .blog-date {
        display: block;
        font-size: 0.9rem;
        color: var(--gray);
        margin-bottom: 0.25rem;
      }

      .read-time {
        display: flex;
        align-items: center;
        gap: 0.3rem;
        font-size: 0.8rem;
        color: var(--gray);
      }

      .blog-card-title {
        font-size: 1.5rem;
        font-weight: 700;
        line-height: 1.3;
        margin-bottom: 1rem;
        color: var(--dark);
      }

      .blog-card-description {
        font-size: 1.05rem;
        line-height: 1.6;
        color: var(--gray);
        margin-bottom: 1.5rem;
      }

      .blog-card-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-bottom: 1.5rem;
      }

      .blog-tag {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        background: rgba(99, 102, 241, 0.1);
        color: var(--primary);
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
        border: 1px solid rgba(99, 102, 241, 0.2);
      }

      .blog-card-cta {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--primary);
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .blog-card-enhanced:hover .blog-card-cta {
        gap: 1rem;
      }

      .blog-card-enhanced:hover .arrow-icon {
        transform: translateX(5px);
      }

      .arrow-icon {
        transition: transform 0.3s ease;
      }

      /* Blog CTA Section */
      .blog-cta-section {
        text-align: center;
        padding-top: 2rem;
      }

      .blog-cta-card {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 24px;
        padding: 3rem;
        max-width: 600px;
        margin: 0 auto;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
      }

      .blog-cta-card h3 {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: var(--dark);
      }

      .blog-cta-card p {
        font-size: 1.1rem;
        color: var(--gray);
        margin-bottom: 2rem;
      }

      .blog-contact-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        background: linear-gradient(135deg, #6366f1 0%, #ec4899 100%);
        color: white;
        text-decoration: none;
        padding: 1rem 2rem;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        box-shadow: 0 8px 30px rgba(99, 102, 241, 0.3);
      }

      .blog-contact-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 40px rgba(99, 102, 241, 0.4);
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .blog-hero-generative {
          min-height: 60vh;
          padding: 2rem 0;
        }

        .blog-hero-title {
          font-size: 2.5rem;
        }

        .blog-hero-description {
          font-size: 1.1rem;
        }

        .blog-hero-stats {
          gap: 1rem;
        }

        .blog-stat .stat-number {
          font-size: 1.5rem;
        }

        .blog-grid-enhanced {
          grid-template-columns: 1fr;
          gap: 2rem;
        }

        .blog-card-enhanced {
          padding: 2rem;
        }

        .blog-cta-card {
          padding: 2rem;
        }

        /* Hide some floating elements */
        .code-symbol-2,
        .code-symbol-3,
        .hero-orb-2,
        .hero-orb-3,
        .post-orb-2 {
          display: none;
        }
      }
    </style>
  </main></Layout
>
